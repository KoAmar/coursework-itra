<form #registerForm = "ngForm">
<div mat-dialog-content>
  <div class="example-container">

    <mat-form-field>
      <input matInput placeholder="Username"
             type="text"
             [(ngModel)]="username" name="username" required>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Email"
             type="text"
             [(ngModel)]="email" name="email" required>
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Password"
             [type]="hide ? 'password' : 'text'"
             [(ngModel)]="password" name="password" required minlength="5">
      <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </mat-form-field>
    <mat-form-field>
      <input #confirmPasswordField="ngModel" matInput placeholder="Confirm password"
             [type]="hide ? 'password' : 'text'"
             [(ngModel)]="confirmPassword" name="confirmPassword" required minLength="5">
      <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </mat-form-field>

    <mat-error *ngIf="confirmPasswordField.touched && confirmPassword != password">
      Password don't match
    </mat-error>

    <div *ngIf="errors">
      <mat-error *ngFor="let message of messages">
        {{message}}
      </mat-error>
    </div>
  </div>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="onCancelClick()">Cancel</button>
  <button mat-button [disabled]="!registerForm.valid"
          (click)="signUpClick()">Sign Up</button>
</div>
